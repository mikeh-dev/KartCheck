<% if flash[:notice].present? %>
  <div class="alert alert-success">
    <%= flash[:notice] %>
  </div>
<% end %>

<div class="container mx-auto px-6 py-8">
  <div class="px-4 sm:px-0">
    <h3 class="text-base font-semibold leading-7 text-gray-900">Chassis' Details</h3>
    <p class="mt-1 max-w-2xl text-sm leading-6 text-gray-500">Details about the chassis.</p>
  </div>

   <% if @chassis.errors.any? %>
    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
      <ul class="list-disc ml-4">
        <% @chassis.errors.full_messages.each do |message| %>
            <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="mt-6 border-t border-gray-100">
    <%= form_for @chassis do |f| %>
      <dl class="divide-y divide-gray-100">
      <div class="px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0">
          <dt class="text-sm font-medium leading-6 text-gray-900">Make</dt>
          <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">
            <%= f.text_field :make, class: "border border-gray-300 rounded w-full py-2 px-3", placeholder: "e.g OTK, Kart Republic.." %>
          </dd>
        </div>
        <div class="px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0">
          <dt class="text-sm font-medium leading-6 text-gray-900">Model</dt>
          <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">
            <%= f.text_field :model, class: "border border-gray-300 rounded w-full py-2 px-3", placeholder: "e.g Kosmic, Gillard.." %>
          </dd>
        </div>
        <div class="px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0">
          <dt class="text-sm font-medium leading-6 text-gray-900">Chassis Number</dt>
          <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">
            <%= f.text_field :number, class: "border border-gray-300 rounded w-full py-2 px-3", placeholder: "e.g HY5674" %>
          </dd>
        </div>
        <div class="px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0">
          <dt class="text-sm font-medium leading-6 text-gray-900">Year</dt>
          <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">
            <%= f.text_field :year, class: "border border-gray-300 rounded w-full py-2 px-3", placeholder: "e.g 2021" %>
          </dd>
        </div>
        <div class="px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0">
          <dt class="text-sm font-medium leading-6 text-gray-900">colour</dt>
          <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">
            <%= f.text_field :colour, class: "border border-gray-300 rounded w-full py-2 px-3", placeholder: "e.g Green - Factory" %>
          </dd>
        </div>
        <div class="px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0">
          <dt class="text-sm font-medium leading-6 text-gray-900">Notes</dt>
          <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">
            <%= f.text_area :notes, class: "border border-gray-300 rounded w-full py-2 px-3", placeholder: "e.g Weld on Seat stay" %>
          </dd>
        </div>
        <div class="px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0">
          <dt class="text-sm font-medium leading-6 text-gray-900">Stolen Status</dt>
          <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">
            <%= f.select :stolen, options_for_select([['Stolen', 'stolen'], ['Not Stolen', 'not_stolen']], @chassis.stolen), {}, { id: "stolen", class: "border border-gray-300 rounded w-full py-2 px-3" } %>
          </dd>
        </div>

        <div class="px-4 py-3 bg-white text-right sm:px-0">
          <div class="flex justify-start pt-5">
            <%= f.submit "Save", class: "ml-3 inline-flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out" %>
            <% if current_user.admin? && @chassis.persisted? %>
              <%= link_to 'Delete', chassis_path(@chassis), data: { turbo_method: "delete", turbo_confirm: 'Are you sure?' }, class: "inline-flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-red-600 hover:bg-red-500 focus:outline-none focus:border-red-700 focus:shadow-outline-red active:bg-red-700 transition duration-150 ease-in-out ml-2" %>
            <% end %>
            <%= link_to 'Back', user_dashboard_path, class: "ml-3 inline-flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-gray-600 hover:bg-gray-500 focus:outline-none focus:border-gray-700 focus:shadow-outline-gray active:bg-gray-700 transition duration-150 ease-in-out"  %>
          </div>
        </div>
      </dl>
      <% end %>
</div>
  
  </div>
</div>

