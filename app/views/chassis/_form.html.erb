<%= form_with(model: chassis) do |form| %>
<% if chassis.errors.any? %>
<div id="error_explanation" class="bg-red-50 p-6 rounded text-red-800">
  <h2 class="text-lg font-semibold mb-3"><%= pluralize(chassis.errors.count, "error") %> prohibited this chassis from being saved:</h2>

  <ul class="list-disc leading-relaxed">
    <% chassis.errors.full_messages.each do |message| %>
    <li><%= message %></li>
    <% end %>
  </ul>
</div>
<% end %>

  <% if current_user.admin? %>
          <div class="sm:col-span-4">
            <label for="user_id" class="block text-sm font-medium leading-6 text-gray-900">User</label>
            <div class="mt-2">
              <div class="flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md">
                <%= form.collection_select :user_id, @users, :id, :name, {}, { class: "block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6" } %>
              </div>
            </div>
          </div>
        <% end %>

  <div class="mb-6">
        <%= form.label :name, class: label_class %>
          <%= form.text_field :name, class: input_class %>
      </div>
  <div class="mb-6">
        <%= form.label :make, class: label_class %>
          <%= form.text_field :make, class: input_class %>
      </div>
  
  <div class="mb-6">
        <%= form.label :model, class: label_class %>
          <%= form.text_field :model, class: input_class %>
      </div>
  <div class="mb-6">
        <%= form.label :number, class: label_class %>
          <%= form.text_field :number, class: input_class %>
      </div>
  <div class="mb-6">
        <%= form.label :colour, class: label_class %>
          <%= form.text_field :colour, class: input_class %>
      </div>
  <div class="mb-6">
        <%= form.label :notes, class: label_class %>
          <%= form.text_area :notes, class: input_class %>
      </div>
  <div class="mb-6">
        <%= form.label :year, class: label_class %>
          <%= form.number_field :year, class: input_class %>
      </div>

<%= form.submit class: button_class(theme: 'primary') %>

<% if chassis.persisted? %>
<%= link_to "Cancel", chassis, class: "text-neutral-700 underline inline-block ml-3" %>
<% else %>
<%= link_to "Cancel", chassis_index_path, class:  "text-neutral-700 underline inline-block ml-3" %>
<% end %>
<% end %>
